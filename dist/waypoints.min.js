!function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";var i=n(1)(),r=n(2)(i),o=n(3)(),s=n(4)(i,r,o),l=window.onload;r.findOrCreateByElement(window),window.onload=function(){l&&l(),r.refreshAll()},window.Waypoint=s,t.exports=s},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var s,l=t[Symbol.iterator]();!(i=(s=l.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&l.return&&l.return()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();t.exports=function(){return function(){function t(e){n(this,t),this.element=e,this.handlers={},this.isWindow=e.window===e,this.window=this.isWindow?e:e.ownerDocument.defaultView}return r(t,[{key:"innerHeight",value:function(){return this.isWindow?this.element.innerHeight||document.documentElement.clientHeight:this.element.clientHeight}},{key:"innerWidth",value:function(){return this.isWindow?this.innerWidth:this.element.clientWidth}},{key:"outerHeight",value:function(t){var e=this.innerHeight();if(t&&!this.isWindow){var n=window.getComputedStyle(this.element);e+=parseInt(n.marginTop,10),e+=parseInt(n.marginBottom,10)}return e}},{key:"outerWidth",value:function(t){var e=this.innerWidth();if(t&&!this.isWindow){var n=window.getComputedStyle(this.element);e+=parseInt(n.marginLeft,10),e+=parseInt(n.marginRight,10)}return e}},{key:"scrollLeft",value:function(){return this.element[this.isWindow?"pageXOffset":"scrollLeft"]}},{key:"scrollTop",value:function(){return this.element[this.isWindow?"pageYOffset":"scrollTop"]}},{key:"on",value:function(t,e){var n=t.split("."),r=i(n,2),o=r[0],s=r[1],l=void 0===s?"__default":s,a=this.handlers[l]=this.handlers[l]||{},u=a[o]=a[o]||[];u.push(e),this.element.addEventListener(o,e)}},{key:"off",value:function(t,e){var n=t.split("."),r=i(n,2),o=r[0],s=r[1];if(s&&this.handlers[s]&&o)this.removeListeners(this.handlers[s][o],e),this.handlers[s][o]=[];else if(o)for(var l in this.handlers)this.removeListeners(this.handlers[l][o]||[],e),this.handlers[l][o]=[];else if(s&&this.handlers[s]){for(var a in this.handlers[s])this.removeListeners(this.handlers[s][a],e);this.handlers[s]={}}}},{key:"removeListeners",value:function(t,e){var n=this;t.forEach(function(t){e&&e!==t||n.element.removeEventListener(t)})}},{key:"offset",value:function(){if(!this.element.ownerDocument)return null;var t=this.element.ownerDocument.documentElement,e=this.element.getBoundingClientRect();return{top:e.top+this.window.pageYOffset-t.clientTop,left:e.left+this.window.pageXOffset-t.clientLeft}}}],[{key:"viewportHeight",value:function(){return window.innerHeight||document.documentElement.clientHeight}},{key:"viewportWidth",value:function(){return document.documentElement.clientWidth}}]),t}()}},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t){for(var e in t)return!1;return!0}var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();t.exports=function(t){function e(t){window.setTimeout(t,1e3/60)}var o=0,s={},l=(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.oRequestAnimationFrame||e).bind(window);return function(){function e(i){n(this,e),this.element=i,this.dom=new t(i),this.key="context-"+o,this.didScroll=!1,this.didResize=!1,this.oldScroll={x:this.dom.scrollLeft(),y:this.dom.scrollTop()},this.waypoints={vertical:{},horizontal:{}},i.waypointContextKey=this.key,s[i.waypointContextKey]=this,o+=1,this.createThrottledScrollHandler(),this.dom.isWindow&&this.createThrottledResizeHandler()}return r(e,[{key:"createThrottledScrollHandler",value:function(){var t=this,e=function(){t.handleScroll(),t.didScroll=!1};this.dom.on("scroll.waypoints",function(){t.didScroll||(t.didScroll=!0,l(e))})}},{key:"createThrottledResizeHandler",value:function(){var t=this,e=function(){t.handleResize(),t.didResize=!1};this.dom.on("resize.waypoints",function(){t.didResize||(t.didResize=!0,l(e))})}},{key:"handleResize",value:function(){e.refreshAll()}},{key:"handleScroll",value:function(){var t={},e={horizontal:{newScroll:this.dom.scrollLeft(),oldScroll:this.oldScroll.x},vertical:{newScroll:this.dom.scrollTop(),oldScroll:this.oldScroll.y}};for(var n in e){var i=e[n];for(var r in this.waypoints[n]){var o=this.waypoints[n][r],s=o.shouldScrollTrigger(i.oldScroll,i.newScroll);s&&(o.group.queueTrigger(o,s),t[o.group.id]=o.group)}}for(var l in t)t[l].flushTriggers();this.oldScroll={x:e.horizontal.newScroll,y:e.vertical.newScroll}}},{key:"add",value:function(t){this.waypoints[t.axis][t.key]=t,this.refresh()}},{key:"remove",value:function(t){delete this.waypoints[t.axis][t.key];var e=i(this.waypoints.horizontal),n=i(this.waypoints.vertical);e&&n&&!this.dom.isWindow&&(this.dom.off(".waypoints"),delete s[this.key])}},{key:"destroy",value:function(){for(var t in this.waypoints)for(var e in this.waypoints[t])this.waypoints[t][e].destroy()}},{key:"refresh",value:function(){this.handleScroll();var t=this.dom.offset()||{left:0,top:0},e={},n={horizontal:{contextOffset:t.left,contextScroll:this.dom.isWindow?0:this.oldScroll.x,contextDimension:this.dom.innerWidth()},vertical:{contextOffset:t.top,contextScroll:this.dom.isWindow?0:this.oldScroll.y,contextDimension:this.dom.innerHeight()}};for(var i in n){var r=n[i];for(var o in this.waypoints[i]){var s=this.waypoints[i][o],a=s.refreshTriggerPoint({contextDimension:r.contextDimension,contextAdjustment:r.contextScroll-r.contextOffset});a&&(s.group.queueTrigger(s,a),e[s.group.id]=s.group)}}return l(function(){for(var t in e)e[t].flushTriggers()}),this}}],[{key:"findOrCreateByElement",value:function(t){return e.findByElement(t)||new e(t)}},{key:"findByElement",value:function(t){return s[t.waypointContextKey]}},{key:"refreshAll",value:function(){for(var t in s)s[t].refresh()}}]),e}()}},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();t.exports=function(){function t(t,e){return t.triggerPoint-e.triggerPoint}function e(t,e){return e.triggerPoint-t.triggerPoint}var r={vertical:{},horizontal:{}};return function(){function o(t){var e=t.axis,i=t.name;n(this,o),this.name=i,this.axis=e,this.id=i+"-"+e,this.waypoints=[],this.clearTriggerQueues(),r[e][i]=this}return i(o,[{key:"add",value:function(t){this.waypoints.push(t)}},{key:"remove",value:function(t){var e=this.waypoints.indexOf(t);e>-1&&this.waypoints.splice(e,1)}},{key:"clearTriggerQueues",value:function(){this.triggerQueues={up:[],down:[],left:[],right:[]}}},{key:"queueTrigger",value:function(t,e){this.triggerQueues[e].push(t)}},{key:"flushTriggers",value:function(){var n=this,i=function(){var i=n.triggerQueues[r],o="up"===r||"left"===r;i.sort(o?e:t),i.forEach(function(t,e){(t.continuous||e===i.length-1)&&t.trigger(r)})};for(var r in this.triggerQueues)i();this.clearTriggerQueues()}},{key:"next",value:function(e){this.waypoints.sort(t);var n=this.waypoints.indexOf(e);return n===-1||n===this.waypoints.length-1?null:this.waypoints[n+1]}},{key:"previous",value:function(e){this.waypoints.sort(t);var n=this.waypoints.indexOf(e);return n!==-1&&n?this.waypoints[n-1]:null}},{key:"first",value:function(){return this.waypoints.sort(t),this.waypoints[0]}},{key:"last",value:function(){return this.waypoints.sort(t),this.waypoints[this.waypoints.length-1]}}],[{key:"findOrCreate",value:function(t){return r[t.axis][t.name]||new o(t)}}]),o}()}},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();t.exports=function(t,e,o){var s=0,l={},a={horizontal:{backward:"left",forward:"right"},vertical:{backward:"up",forward:"down"}};return function(){function u(i){if(n(this,u),!i)throw new Error("No options passed to Waypoint constructor");if(!i.element)throw new Error("No element option passed to Waypoint constructor");if(!i.handler)throw new Error("No handler option passed to Waypoint constructor");i=this.mergeOptions(i),this.key="waypoint-"+s,this.element=i.element,this.dom=new t(i.element),this.callback=i.handler,this.axis=i.horizontal?"horizontal":"vertical",this.enabled=i.enabled,this.continuous=i.continuous,this.offset=i.offset,this.triggerPoint=null,this.group=o.findOrCreate({name:i.group,axis:this.axis}),this.context=e.findOrCreateByElement(i.context),this.group.add(this),this.context.add(this),l[this.key]=this,s+=1}return r(u,[{key:"mergeOptions",value:function(t){return u.offsetAliases[t.offset]&&(t.offset=u.offsetAliases[t.offset]),i({},u.defaults,t)}},{key:"destroy",value:function(){this.context.remove(this),this.group.remove(this),delete l[this.key]}},{key:"disable",value:function(){return this.enabled=!1,this}},{key:"enable",value:function(){return this.context.refresh(),this.enabled=!0,this}},{key:"next",value:function(){return this.group.next(this)}},{key:"previous",value:function(){return this.group.previous(this)}},{key:"trigger",value:function(t){this.enabled&&this.callback.call(this,t)}},{key:"shouldScrollTrigger",value:function(t,e){if(null===this.triggerPoint)return null;var n=t<this.triggerPoint,i=e>=this.triggerPoint;return n&&i?this.axialDirection("forward"):n||i?void 0:this.axialDirection("backward")}},{key:"refreshTriggerPoint",value:function(t){var e=t.contextDimension,n=t.contextAdjustment,i=0,r=this.offset,o=this.triggerPoint;if(!this.dom.isWindow){var s="vertical"===this.axis?"top":"left";i=this.dom.offset()[s]}return"function"==typeof this.offset?r=this.offset.apply(this):"string"==typeof this.offset&&(r=parseFloat(r),this.offset.indexOf("%")>-1&&(r=Math.ceil(e*r/100))),this.triggerPoint=Math.floor(i+n-r),this.shouldRefreshTrigger(o)}},{key:"shouldRefreshTrigger",value:function(t){var e="vertical"===this.axis?"y":"x",n=this.context.oldScroll[e],i=t<n,r=this.triggerPoint>=n,o=i&&r,s=!i&&!r,l=null===t;return!l&&o?this.axialDirection("backward"):!l&&s?this.axialDirection("forward"):l&&n>=this.triggerPoint?this.axialDirection("forward"):void 0}},{key:"axialDirection",value:function(t){return a[this.axis][t]}}],[{key:"invokeAll",value:function(t){for(var e in l)l[e][t]()}},{key:"destroyAll",value:function(){this.invokeAll("destroy")}},{key:"disableAll",value:function(){this.invokeAll("disable")}},{key:"enableAll",value:function(){e.refreshAll();for(var t in l)l[t].enabled=!0}},{key:"refreshAll",value:function(){e.refreshAll()}},{key:"viewportHeight",value:function(){return new t(window).innerHeight()}},{key:"viewportWidth",value:function(){return new t(window).innerWidth()}},{key:"offsetAliases",get:function(){return{"bottom-in-view":function(){return this.context.dom.innerHeight()-this.dom.outerHeight()},"right-in-view":function(){return this.context.dom.innerWidth()-this.dom.outerWidth()}}}},{key:"defaults",get:function(){return{context:window,continuous:!0,enabled:!0,group:"default",horizontal:!1,offset:0}}}]),u}()}}]);
//# sourceMappingURL=waypoints.min.js.map